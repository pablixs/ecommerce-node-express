<%- include('../templates/nav.ejs') %>
    <link rel="stylesheet" href="/styles/fancybox.css">
    <link rel="stylesheet" href="/styles/panzoom.controls.css">
    <section class="py-12 sm:py-16 ">
        <div class="container mx-auto my-6">
            <nav aria-label="Breadcrumb" class="flex">
                <ol role="list" class="flex overflow-hidden rounded-lg border border-gray-200 text-gray-600">
                    <li class="flex items-center hover:underline">
                        <a href="http://localhost:3000/"
                            class="flex h-10 items-center bg-gray-100 px-4 transition hover:text-gray-900">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                            </svg>

                            <span class="ml-1.5 text-xs font-medium"> Inicio </span>
                        </a>
                    </li>

                    <li class="relative flex items-center">
                        <span
                            class="absolute inset-y-0 -left-px h-10 w-4 bg-gray-100 [clip-path:_polygon(0_0,_0%_100%,_100%_50%)]">
                        </span>

                        <a href="http://localhost:3000/productos"
                            class="flex h-10 items-center hover:underline bg-white pl-8 pr-4 text-xs font-medium transition hover:text-gray-900">
                            Productos
                        </a>
                    </li>

                    <li class="relative flex items-center">
                        <span
                            class="absolute inset-y-0 -left-px h-10 w-4 bg-white [clip-path:_polygon(0_0,_0%_100%,_100%_50%)]">
                        </span>

                        <a href="http://localhost:3000/productos/<%= categoria.name%>"
                            class="flex h-10  capitalize items-center hover:underline bg-gray-100 pl-8 pr-4 text-xs font-medium transition hover:text-gray-900">
                            <%= categoria.name%>
                        </a>
                    </li>

                    <li class="relative flex items-center">
                        <span
                            class="absolute inset-y-0 -left-px h-10 w-4 bg-gray-100 [clip-path:_polygon(0_0,_0%_100%,_100%_50%)]">
                        </span>

                        <a href="http://localhost:3000/productos/<%= categoria.name %>/<%= producto.name_url %>"
                            class="flex h-10 items-center hover:underline bg-white pl-8 pr-4 text-xs font-medium transition hover:text-gray-900">
                            <%= producto.name%>
                        </a>
                    </li>


                </ol>
            </nav>
        </div>

        <section class="container rounded-md mx-auto py-12 px-12 sm:py-6 bg-white">
            <div class="container mx-auto px-4">

                <% if(errorMessage) {%>
                    <div id="alert-2" class="flex p-4 my-4 mb-4 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <svg aria-hidden="true" class="flex-shrink-0 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
                        <span class="sr-only">Info</span>
                        <div class="ml-3 text-sm font-medium">
                            <%=  errorMessage %> 
                        </div>
                        <button type="button" class="ml-auto -mx-1.5 -my-1.5 bg-red-50 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 inline-flex h-8 w-8 dark:bg-gray-800 dark:text-red-400 dark:hover:bg-gray-700" data-dismiss-target="#alert-2" aria-label="Close">
                          <span class="sr-only">Close</span>
                          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        </button>
                      </div>    
                <% } %> 

                <div class="lg:col-gap-12 xl:col-gap-16 mt-8 grid grid-cols-1 gap-12 lg:mt-12 lg:grid-cols-5 lg:gap-16">
                    <div class="lg:col-span-3 lg:row-end-1">
                        <div class="lg:flex lg:items-start">
                            <div class="lg:order-2 lg:ml-5">
                                <div class="max-w-xl overflow-hidden rounded-lg">
                                    <img data-fancybox="gallery"
                                        class="main-image h-[500px] w-[500px] max-w-full object-cover" alt="" />
                                </div>
                            </div>

                            <div class="mt-2 w-full lg:order-1 lg:w-32 lg:flex-shrink-0">
                                <div class="flex flex-row items-start lg:flex-col">
                                    <button type="button"
                                        class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg hover:border-2 hover:border-gray-900 text-center">
                                        <img data-fancybox="gallery" class="thumbnail h-full w-full object-cover"
                                            src="/images/bg.png" alt="" />
                                    </button>
                                    <button type="button"
                                        class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg hover:border-2 hover:border-gray-900 hover:border-2 border-transparent text-center">
                                        <img data-fancybox="gallery" class="thumbnail h-full w-full object-cover"
                                            src="/images/bg02.jpg" alt="" />
                                    </button>
                                    <button type="button"
                                        class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg hover:border-2 hover:border-gray-900 hover:border-2 border-transparent text-center">
                                        <img data-fancybox="gallery" class="thumbnail h-full w-full object-cover"
                                            src="/images/bg03.jpg" alt="" />
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-2 lg:row-span-2 lg:row-end-2">
                        <h1 class="sm: text-2xl font-bold text-gray-900 sm:text-3xl">
                            <%= producto.name %>
                        </h1>
                        <a href="http://localhost:3000/productos/<%= categoria.name %>"
                            class="uppercase text-sm text-gray-400 hover:underline">
                            <%= categoria.name %>
                        </a>


                        <div class="mt-8 px-4 py-2 rounded-md border-[1px] border-gray-700 ">
                            <h2 class=" text-base text-gray-900">Descripción corta</h2>
                            <div class="mt-3 flex select-none flex-wrap items-center gap-1">
                                <p>
                                    <%= producto.short_description %>
                                </p>
                            </div>
                        </div>

                        <div class="my-4 ">
                            <span class="text-gray-400">Unidades disponibles: <%= producto.stock %>u.</span>
                        </div>

                        <div
                            class="mt-6 flex flex-col items-center justify-between space-y-4 border-t border-b py-4 sm:flex-row sm:space-y-0">
                            <div class="flex items-end">
                                <h3 class="text-3xl font-bold">$ <%= producto.price %>
                                </h3>
                            </div>
                            <form action="http://localhost:3000/carrito/add" method="post">
                                <input type="hidden" name="product_category_name" value="<%= categoria.name %>">
                                <input type="hidden" name="product_id" value="<%= producto.id %>">
                                <button type="submit"
                                    class="inline-flex items-center justify-center rounded-md border-2 border-transparent bg-gray-900 bg-none px-12 py-3 text-center text-base font-bold text-white transition-all duration-200 ease-in-out focus:shadow hover:bg-gray-800">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 mr-3 h-5 w-5" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                                    </svg>
                                    Añadir al carrito
                                </button>
                            </form>
                        </div>

                        <ul class="mt-8 space-y-2 flex flex-col items-start">
                            <li class="flex items-center text-left text-base font-medium text-gray-600">
                                <img src="/images/icons/cruelty-free.png" class="mr-2 block h-10 w-10"
                                    alt="Libre de crueldad animal icono">
                                Libre de crueldad animal
                            </li>

                            <li class="flex items-center text-left text-base font-medium text-gray-600">
                                <img src="/images/icons/paraben-free.png" class="-ml-1 mr-1 block h-12 w-12"
                                    alt="Libre de parabenos icono">
                                Libre de parabenos
                            </li>

                            <li class="flex items-center text-left text-base font-medium text-gray-600">
                                <img src="/images/icons/no-sulfate.png" class="mr-2 block h-10 w-10"
                                    alt="Libre de sulfatos icono">
                                Libre de sulfatos
                            </li>

                            <li class="flex items-center text-left text-base font-medium text-gray-600">
                                <img src="/images/icons/silicone-free.png" class="mr-2 block h-10 w-10"
                                    alt="Libre de siliconas">
                                Libre de siliconas
                            </li>
                            <li class="flex items-center text-left text-base font-medium text-gray-600">
                                <img src="/images/icons/no-preservatives.png" class="mr-2 block h-10 w-10"
                                    alt="100% natural icono">
                                100% Natural
                            </li>
                        </ul>

                    </div>

                    <div class="lg:col-span-3">
                        <div class="border-b border-gray-300">
                            <nav class="flex gap-4">
                                <ul>
                                    <li
                                        class="border-b-2 border-gray-900 py-4 text-sm font-medium text-gray-900 hover:border-gray-400 hover:text-gray-800">
                                        Descripción</li>
                                </ul>
                            </nav>
                        </div>

                        <div class="mt-8 flow-root sm:mt-12">
                            <h3 class="text-3xl font-bold">Productos 100% artesanales.</h3>
                            <p class="mt-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia accusantium
                                nesciunt fuga.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </section>

    <script src="/javascripts/jquery.min.js"></script>
    <script src="/javascripts/fancybox.umd.js"></script>
    <script src="/javascripts/product.js"></script>
    <%- include('../templates/footer.ejs') %>